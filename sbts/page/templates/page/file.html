{% extends 'page/base.html' %}
{% load static %}

{% block content %}
  <div>
    <div><strong>kind, name, lastmod, size, key</strong></div>
    {% for file in file_list %}
    <div>{{ file.kind }}, {{ file.name }}, {{ file.lastmod }}, {{ file.size }}, <a href="{% url 'file:blob' file.key %}">link</a></div>
    {% endfor %}
  </div>

  <form action="{% url 'create_file' %}" method="post" id="uploadform">
    {% csrf_token %}
    <input type="hidden" name="blobkey">
    <input type="hidden" name="filename">
    <fieldset>
      <legend>ファイル</legend>
      <input type="file" id="file">{# これはフォームで送信されない #}
    </fieldset>
    <input type="submit" value="upload">
  </form>

  {{ constant_map|json_script:"file-data" }}
  <script src="{% static 'page/file.js' %}"></script>
{% endblock %}
